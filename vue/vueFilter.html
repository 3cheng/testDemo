<!DOCTYPE html>
<html>
    <head>
      <meta name="renderer" content="webkit">
      <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/>
      <meta charset="utf-8">
      <title>
        vue 学习3 过滤器
      </title>
    </head>
    
    <body>
      <h3>vue 学习3</h3>
      
      <div id="demo">
        <p><strong>原字符串：</strong>{{test_str}}</p>
        <p><strong>reverse过滤后：</strong><span v-text="test_str | reverse"></span></p>
        <p><strong>uppercase过滤后（vue自带）：</strong><span v-text="test_str | uppercase"></span></p>
        <p><strong>带参数的过滤器 wrap 'this' 213：</strong><span v-text="test_str | wrap 'this' 213"></span></p>
        <br/>

        <p><strong>组合过滤器(reverse 与 uppercase共同作用)：</strong><span v-text="test_str | reverse | uppercase"></span></p>
        
        <br/>
        <br/>
        <h4>双向过滤器， 用途不明！</h4>
        <!-- 双向过滤示例  -->
        <input type="text" v-model="test_str2 | check-email"/>
        <div>{{test_str2}}</div>
       
      </div>


      <script src="vue.js"></script>

      <script type="text/javascript">

        // 过滤器得写在 new 之前
        Vue.filter('reverse', function (value) {
          return value.split('').reverse().join('')
        });
        Vue.filter('wrap', function (value, begin, end) {
          return begin + ' ' + value + ' ' + end
        });

        var demo = new Vue({
          el: '#demo',
          data: {
            test_str: 'wteam-xq',
            test_str2: 'wtf'
          },
          filters:{
            'check-email': {
              // read is optional in this case, it's here
              // just for demo purposes.
              read: function (val) {
                return val + '1'
              },
              // this will be invoked before writing to
              // the model.
              write: function (val, oldVal) {
                return val + 'aaaa'
              }
            } 
          }
        })
        
      </script>

    </body>
</html>