<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <title>
          数组使用
      </title>
      <link rel="stylesheet" type="text/css" href="common.css"/>
    </head>
    
    <body>
        <h3>数组用法</h3>
        <div class='btn-list' id="btnCont">
          <button id="showImgBtn" class="radius-btn">数组去重</button>
          <button id="modalBtn" class="radius-btn">数组排序</button>
        </div>
        <script>
          // 判断浏览器是否indexOf (indexOf 为ecmaScript5新方法 IE8以下（包括IE8）只支持到ECMAScript3)
          if (!Array.prototype.indexOf){
            // 新增indexOf方法
            Array.prototype.indexOf = function(item){
              var result = -1, a_item = null;
              if (this.length == 0){
                return result;
              }
              for(var i = 0, len = this.length; i < len; i++){
                a_item = this[i];
                if (a_item === item){
                  result = i;
                  break;
                }  
              }
              return result;
            }
          }

          // 数组去重的5个方法
          function unique1(array){
            var n = []; //一个新的临时数组
            //遍历当前数组
            for(var i = 0; i < array.length; i++){
              //如果当前数组的第i已经保存进了临时数组，那么跳过，
              //否则把当前项push到临时数组里面
              if (n.indexOf(array[i]) == -1) n.push(array[i]);
            }
            return n;
          }

          // 速度最快， 占空间最多（空间换时间）
          function unique2(array){
            var n = {}, r = [], len = array.length, val, type;
              for (var i = 0; i < array.length; i++) {
                  val = array[i];
                  type = typeof val;
                  if (!n[val]) {
                      n[val] = [type];
                      r.push(val);
                  } else if (n[val].indexOf(type) < 0) {
                      n[val].push(type);
                      r.push(val);
                  }
              }
              return r;
          }

          function unique3(array){
            var n = [array[0]]; //结果数组
            //从第二项开始遍历
            for(var i = 1; i < array.length; i++) {
              //如果当前数组的第i项在当前数组中第一次出现的位置不是i，
              //那么表示第i项是重复的，忽略掉。否则存入结果数组
              if (array.indexOf(array[i]) == i) n.push(array[i]);
            }
            return n;
          }

          function unique4(array){
            array.sort(); 
            var re=[array[0]];
            for(var i = 1; i < array.length; i++){
              if( array[i] !== re[re.length-1])
              {
                re.push(array[i]);
              }
            }
            return re;
          }

          // 思路：获取没重复的最右一值放入新数组
          function unique5(array){
            var r = [];
            for(var i = 0, l = array.length; i < l; i++) {
              for(var j = i + 1; j < l; j++)
                if (array[i] === array[j]) j = ++i;
              r.push(array[i]);
            }
              return r;
          }
          // 测试以上函数 方便演示代码， 添加代码高亮插件
          var t_array = [4, 2, 5, 5, 8, 12, 43, 7, 2];
          // alert(unique1(t_array));
          // alert(unique2(t_array));
          // alert(unique3(t_array));
          // alert(unique4(t_array));
          // alert(unique5(t_array));
          
          //数组排序算法总结：
          //http://jsdo.it/norahiko/oxIy/fullscreen（日本人编写的排序动画）
          
          //1.插入排序
          //2.二分插入排序
          //3.希尔排序  
          //4.冒泡排序
          //5.改进冒泡排序
          //6.快速排序
          //7.选择排序
          //8.堆排序
          //9.归并排序
          

        </script>

    </body>
</html>