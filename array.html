<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <title>
          数组使用
      </title>
      <link rel="stylesheet" type="text/css" href="common.css"/>
      <style type="text/css">
        .radio-list{
          font-size: 16px;
          text-align: left;
        }
        .radio-list input{
          width: 16px;
          height: 16px;
          cursor: pointer;
        }
        .panel {
          display: none;
        }
        .un-detail {
          display: none;
        }
      </style>
    </head>
    
    <body>
        <h3>数组用法</h3>
        <div class='btn-list' id="btnCont">
          <button id="uniqueBtn" class="radius-btn">数组去重</button>
          <button id="sortBtn" class="radius-btn">数组排序</button>
        </div>

        <div id="uniquePanel" class="panel">
          <p>数组去重</p>
          <div class="radio-list">
            <input type="radio" name="unique" data-id="r1"/>
            <label>遍历数组法</label>
            <input type="radio" name="unique" data-id="r2"/>
            <label>对象键值对法</label>
            <input type="radio" name="unique"/>
            <label>数组下标判断法</label>
            <input type="radio" name="unique"/>
            <label>排序后相邻去除法</label>
            <input type="radio" name="unique" checked="checked" />
            <label>优化遍历数组法</label>
          </div>

          <div class="unique-details" id="unDetail">
            <div class="un-detail" id="r1">
              遍历数组法
            </div>
            <div class="un-detail" id="r2">
              对象键值对法
            </div>
          </div>

        </div>
        
        <div id="sortPanel" class="panel">
          <p>数组排序算法总结：<a href="http://jsdo.it/norahiko/oxIy/fullscreen" alt="jpan">日本人编写的排序动画</a></p>
          <p>数组排序</p>
          <div class="radio-list">
            <input type="radio" name="sort"/>
            <label>插入排序</label>
            <input type="radio" name="sort"/>
            <label>二分插入排序</label>
            <input type="radio" name="sort"/>
            <label>希尔排序</label>
            <input type="radio" name="sort"/>
            <label>冒泡排序</label>
            <input type="radio" name="sort"/>
            <label>改进冒泡排序</label>
            <input type="radio" name="sort" checked="checked" />
            <label>快速排序</label>
            <input type="radio" name="sort"/>
            <label>选择排序</label>
            <input type="radio" name="sort"/>
            <label>堆排序</label>
            <input type="radio" name="sort"/>
            <label>归并排序</label>
          </div>
        </div>

        <script type="text/javascript" src="utils.js"></script>
        <script>
          // 判断浏览器是否indexOf (indexOf 为ecmaScript5新方法 IE8以下（包括IE8）只支持到ECMAScript3)
          if (!Array.prototype.indexOf){
            // 新增indexOf方法
            Array.prototype.indexOf = function(item){
              var result = -1, a_item = null;
              if (this.length == 0){
                return result;
              }
              for(var i = 0, len = this.length; i < len; i++){
                a_item = this[i];
                if (a_item === item){
                  result = i;
                  break;
                }  
              }
              return result;
            }
          }
          function init(){
            var unique_btn, sort_btn, unique_panel, sort_panel,unique_radios, sort_radios;

            unique_btn = document.getElementById('uniqueBtn');
            sort_btn = document.getElementById('sortBtn');

            // 默认显示第一项
            showUniquePanel();
            unique_btn.onclick = showUniquePanel;
            sort_btn.onclick = showSortPanel;

            // raido 事件处理
            unique_panel = document.getElementById('uniquePanel');
            sort_panel = document.getElementById('sortPanel');
            unique_radios = document.getElementsByName('unique');
            sort_radios = document.getElementsByName('sort');

          }
          function showUniquePanel(){
            showPanel('uniquePanel');
          }
          function showSortPanel(){
            showPanel('sortPanel');
          }
          function hideAllPanel(){
            var panel_list, i, len, p_item;
            panel_list = document.getElementsByClassName('panel');
            for (i = 0, len = panel_list.length; i < len; i++) {
              p_item = panel_list[i];
              p_item.style.display = 'none';
            }
          }
          function showPanel(p_id){
            var p_item; 
            hideAllPanel();
            p_item = document.getElementById(p_id);
            p_item.style.display = 'block';
          }

          // 初始化 radio按钮事件
          function initRadios(btn_list){

          }
          // 隐藏指定类型的所有详情面板
          function hideAllDetail(detail_list){

          }
          // 显示某一详情面板
          function showUnDetail(u_id){

          }

          init();

          // 数组去重的5个方法
          function unique1(array){
            var n = []; //一个新的临时数组
            //遍历当前数组
            for(var i = 0; i < array.length; i++){
              //如果当前数组的第i已经保存进了临时数组，那么跳过，
              //否则把当前项push到临时数组里面
              if (n.indexOf(array[i]) == -1) n.push(array[i]);
            }
            return n;
          }

          // 速度最快， 占空间最多（空间换时间）
          function unique2(array){
            var n = {}, r = [], len = array.length, val, type;
              for (var i = 0; i < array.length; i++) {
                  val = array[i];
                  type = typeof val;
                  if (!n[val]) {
                      n[val] = [type];
                      r.push(val);
                  } else if (n[val].indexOf(type) < 0) {
                      n[val].push(type);
                      r.push(val);
                  }
              }
              return r;
          }

          function unique3(array){
            var n = [array[0]]; //结果数组
            //从第二项开始遍历
            for(var i = 1; i < array.length; i++) {
              //如果当前数组的第i项在当前数组中第一次出现的位置不是i，
              //那么表示第i项是重复的，忽略掉。否则存入结果数组
              if (array.indexOf(array[i]) == i) n.push(array[i]);
            }
            return n;
          }

          function unique4(array){
            array.sort(); 
            var re=[array[0]];
            for(var i = 1; i < array.length; i++){
              if( array[i] !== re[re.length-1])
              {
                re.push(array[i]);
              }
            }
            return re;
          }
          // 思路：获取没重复的最右一值放入新数组
          function unique5(array){
            var r = [];
            for(var i = 0, l = array.length; i < l; i++) {
              for(var j = i + 1; j < l; j++)
                if (array[i] === array[j]) j = ++i;
              r.push(array[i]);
            }
            return r;
          }
          
          // 测试以上函数 方便演示代码， 添加代码高亮插件
          var t_array = [4, 2, 5, 5, 8, 12, 43, 7, 2];
          // alert(unique1(t_array));
          // alert(unique2(t_array));
          // alert(unique3(t_array));
          // alert(unique4(t_array));
          // alert(unique5(t_array));
          
        </script>

    </body>
</html>