<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            原生js 节点操作
        </title>

    </head>
    
    <body>
      <h3>原生JS节点操作</h3>
      <div id="nodeList">
        <div id="aId">a</div>
        <div id="bId">b</div>
        <div id="cId">c</div>
        <div id="dId">d</div>
      </div>

      <script>
      // 《javascript高级程序设计》 第10章第一节
        window.onload = function(){
          // 1.1.在上面的 aId 和 bId 间插入一个 DIV对象
          function insertNode(){
            var a_dom = document.getElementById('aId');
            var b_dom = document.getElementById('bId');
            var a_parent = a_dom.parentNode;
            // 创建一新节点
            var new_dom = document.createElement("div");
            new_dom.innerHTML = "b_before";
            a_parent.insertBefore(new_dom, b_dom);
          }
          insertNode();

          // 获得元素的子节点（元素）
          function getChildNodes(p_nodes){
            var i, _len, _node_item, _child_nodes, _result = [];
            _child_nodes = p_nodes.childNodes;
            for (i = 0, _len = _child_nodes.length; i < _len; i++) {
              _node_item = _child_nodes[i];
              // nodeType 返回节点类型：元素 1， 属性 2， 文本 3， 注释 4， 文档 9
              if (_node_item.nodeType === 1) {
                _result.push(_node_item);
                // 在IE浏览器中nodeName返回的是小写， 而在chrome返回的是大写，
                // toLocaleLowerCase方法统一返回值
                console.log(_node_item.nodeName.toLocaleLowerCase());
              }
            }
            return _result;
          }
          var node_list = document.getElementById('nodeList');
          var children_node = getChildNodes(node_list); 
        }
        
      </script>

    </body>
</html>