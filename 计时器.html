<!-- 无聊 试试编写一个计时器 -->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>
            计时器
        </title>

        <style>
            .bg{background-color:#ff4a00; height:100px; color:#FFF; font-size:14px;}
            .time-val{color:'#fff';font-size:30px;}
        </style>
    </head>
    
    <body>
        <div id="con_apa" , class='bg'>
            倒计时
            <span> 时间（秒）:</span>
            <span id='time_val' class='time-val'> </span>
            <input type="button" class='on' id='timeBtn' value='启动'>
            <input type="button" id='resetTimeBtn' value='复位时间'>
        </div>
        <p>
            我比较无聊， 尝试写一个简单的倒计时器
        </p>

        <script src="jquery-1.10.2.min.js", type="text/javascript">
        </script>

        <script>
            $(function() {

                var val_time = 60;
                var timer = null;
                var flag = true;

                $('#time_val').text(val_time);
                $('#timeBtn').on('click', function(){
                    $this = $(this);
                    if ( $this.hasClass('on') ){
                      $this.val('关闭');
                      $this.removeClass('on').addClass('off');
                      flag = true;
                      timer = setTimeout(updateTime, 1000);

                    }else if( $this.hasClass('off') ){
                      $this.val('启动');
                      $this.removeClass('off').addClass('on');
                      flag = false;
                    }
                })
                $('#resetTimeBtn').on('click', function(){
                  
                  val_time = 60;
                  $('#time_val').text(val_time);
                  
                })

                function updateTime(){
                  if (val_time == 0 || !flag) {
                    clearTimeout(timer);
                    return;
                  }
                  val_time--;
                  $('#time_val').text(val_time);
                  timer = setTimeout(updateTime, 1000);
                }
            })
        </script>
    </body>
</html>